{"version":3,"sources":["webpack:///./src/assets/image/logo.png","webpack:///./src/layout/BasicLayout/VerticalMode.tsx","webpack:///./src/layout/BasicLayout/ViewContent.tsx","webpack:///./src/utils/authorityTools.ts"],"names":["inject","observer","props","layoutStore","layoutStatus","collapsed","isMobile","showSiderBar","showHeader","fixSiderBar","fixHeader","toggleCollapsed","loadingOptions","isInlineLayout","isDarkTheme","RANavigator","useMemo","splitModeLayout","id","className","classNames","propStyle","marginBottom","IconCollapsed","inlineModeLayout","onClick","alignSelf","Exception403","React","lazy","ViewContent","location","useLocation","route","children","routeAuthority","getRouteAuthority","pathname","routes","unidentified","fallback","spinning","getAuthority","str","authority","authorityString","localStorage","getItem","JSON","parse","e","setAuthority","proAuthority","setItem","stringify","clearAuthority","removeItem","_getAuthority","_routes","forEach","_route","path"],"mappings":"6IAAA,OAAe,giH,uvBCuGAA,sBAAO,cAAPA,CAAsBC,aA5FgB,SAAAC,GAAU,IAAD,EASxDA,EAPFC,YAF0D,IAGxDC,aAAgBC,EAHwC,EAGxCA,UAAWC,EAH6B,EAG7BA,SAAUC,EAHmB,EAGnBA,aAAcC,EAHK,EAGLA,WAAYC,EAHP,EAGOA,YAAaC,EAHpB,EAGoBA,UAC5EC,EAJwD,EAIxDA,gBACAC,EALwD,EAKxDA,eACAC,EANwD,EAMxDA,eACAC,EAPwD,EAOxDA,YAIEC,EAAcC,mBAClB,kBAAM,kBAAC,YAAD,CAAWX,UAAWA,EAAWC,SAAUA,EAAUK,gBAAiBA,MAC5E,CAACN,EAAWC,EAAUK,IAIlBM,EACJ,oCACGV,GAAgBQ,EACjB,yBACEG,GAAG,gBACHC,UAAWC,IACT,yBACAf,GAAa,qCAGdG,GAAc,kBAAC,SAAD,MACf,yBAAKW,UAAU,kCACb,kBAAC,UAAgBjB,GACjB,kBAAC,UAAD,CAAQmB,UAAW,CAAEC,aAAc,aAMrCC,EAAgBlB,EAAY,kBAAC,IAAD,MAAyB,kBAAC,IAAD,MAGrDmB,EACJ,oCACGhB,GAAc,kBAAC,SAAD,MACf,yBACEU,GAAG,gBACHC,UAAWC,IACT,yBACAf,GAAa,qCAGdE,GAAgBQ,EACjB,kBAAC,UAAgBb,IAEnB,yBACEiB,UAAWC,IACT,mCACAN,GAAe,0CAGhBP,GACC,yBACEY,UAAWC,IACT,wCACAf,GAAa,8CAEfoB,QAAS,kBAAMd,MAEdY,GAGL,kBAAC,UAAD,CAAQF,UAAW,CAAEK,UAAW,gBAKtC,OACE,yBACEP,UAAWC,IACT,iBACAP,EAAiB,4BAA8B,4BAC9CN,GAAgB,2BAChBC,GAAc,4BACfE,GAAa,2BACbD,GAAe,6BACfH,GAAY,0BAGd,kBAAC,UAAD,KAAaM,EAAb,CAA6BP,UAAWA,KACvCQ,EAAiBW,EAAmBP,Q,wEClG3C,4OAMMU,EAAeC,IAAMC,MAAK,kBAAM,6DAwBvBC,UAtBqC,SAAA5B,GAClD,IAAI6B,EAAWC,cACPC,EAAoB/B,EAApB+B,MAAOC,EAAahC,EAAbgC,SACTC,EAAgDC,4BACpDL,EAASM,SACTJ,EAAMK,QAGR,OACE,kBAAC,UAAD,CACEH,eAAgBA,EAChBI,aACE,kBAAC,WAAD,CAAUC,SAAU,kBAAC,UAAD,CAASC,UAAQ,KACnC,kBAACd,EAAD,QAIJ,0BAAMR,UAAU,mCAAmCe,M,6DCpBlD,SAASQ,EAAaC,GAC3B,IACIC,EADEC,EAAiC,qBAARF,EAAsBG,aAAaC,QAAQ,gBAAkBJ,EAE5F,IAEEC,EAAYI,KAAKC,MAAMJ,GACvB,MAAOK,GACPN,EAAYC,EAEd,MAAyB,kBAAdD,EACF,CAACA,GAEHA,EAOF,SAASO,EAAaP,GAC3B,IAAMQ,EAAoC,kBAAdR,EAAyB,CAACA,GAAaA,EACnEE,aAAaO,QAAQ,eAAgBL,KAAKM,UAAUF,IAI/C,SAASG,IACdT,aAAaU,WAAW,gBAQnB,SAASpB,EAAkBC,GAA6C,IACzEF,EAWJ,OAVsB,SAAhBsB,EAAiBpB,EAAkBqB,GAQvC,OAPAA,EAAQC,SAAQ,SAAAC,GACVvB,IAAauB,EAAOC,KACtB1B,EAAiByB,EAAOhB,UACfgB,EAAOtB,SAChBH,EAAiBsB,EAAcpB,EAAUuB,EAAOtB,YAG7CH,EAEFsB,CAAcpB,EAZuD,uDAAJ,IAvC1E","file":"static/js/src-layout-BasicLayout-VerticalMode.e6790798.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import React, { useMemo } from 'react';\nimport classNames from 'classnames';\nimport { MenuUnfoldOutlined, MenuFoldOutlined } from '@ant-design/icons';\nimport { observer, inject } from 'mobx-react';\nimport LayoutStore from '@store/layoutStore';\nimport { Header, Navigator } from '@components/Layout';\nimport Loading from '@components/Loading';\nimport Footer from '@components/Footer';\nimport ViewContent from './ViewContent';\n\n// 左侧导航栏模式\nconst VerticalMode: React.FC<{ route: RouteRoot }> = props => {\n  const {\n    layoutStore: {\n      layoutStatus: { collapsed, isMobile, showSiderBar, showHeader, fixSiderBar, fixHeader },\n      toggleCollapsed,\n      loadingOptions,\n      isInlineLayout,\n      isDarkTheme\n    }\n  } = props as { layoutStore: LayoutStore; route: RouteRoot };\n\n  const RANavigator = useMemo(\n    () => <Navigator collapsed={collapsed} isMobile={isMobile} toggleCollapsed={toggleCollapsed} />,\n    [collapsed, isMobile, toggleCollapsed]\n  );\n\n  // 分割模式，菜单切割header\n  const splitModeLayout = (\n    <>\n      {showSiderBar && RANavigator}\n      <div\n        id=\"mainContainer\"\n        className={classNames(\n          'RA-basicLayout-wrapper',\n          collapsed && 'RA-basicLayout-wrapper-collapsed'\n        )}\n      >\n        {showHeader && <Header />}\n        <div className=\"RA-basicLayout-wrapper-content\">\n          <ViewContent {...props} />\n          <Footer propStyle={{ marginBottom: '16px' }} />\n        </div>\n      </div>\n    </>\n  );\n\n  const IconCollapsed = collapsed ? <MenuUnfoldOutlined /> : <MenuFoldOutlined />;\n\n  // 一体布局模式，菜单不分割header\n  const inlineModeLayout = (\n    <>\n      {showHeader && <Header />}\n      <div\n        id=\"mainContainer\"\n        className={classNames(\n          'RA-basicLayout-wrapper',\n          collapsed && 'RA-basicLayout-wrapper-collapsed'\n        )}\n      >\n        {showSiderBar && RANavigator}\n        <ViewContent {...props} />\n      </div>\n      <div\n        className={classNames(\n          'RA-basicLayout-inlineMode-footer',\n          isDarkTheme && 'RA-basicLayout-inlineMode-footer-dark'\n        )}\n      >\n        {showSiderBar && (\n          <div\n            className={classNames(\n              'RA-basicLayout-inlineMode-footer-icon',\n              collapsed && 'RA-basicLayout-inlineMode-footer-collapsed'\n            )}\n            onClick={() => toggleCollapsed()}\n          >\n            {IconCollapsed}\n          </div>\n        )}\n        <Footer propStyle={{ alignSelf: 'flex-end' }} />\n      </div>\n    </>\n  );\n\n  return (\n    <div\n      className={classNames(\n        'RA-basicLayout',\n        isInlineLayout ? 'RA-basicLayout-inlineMode' : 'RA-basicLayout-splitMode',\n        !showSiderBar && 'RA-basicLayout-hideMenu',\n        !showHeader && 'RA-basicLayout-hideHeader',\n        fixHeader && 'RA-basicLayout-fixHeader',\n        fixSiderBar && 'RA-basicLayout-fixSiderBar',\n        isMobile && 'RA-basicLayout-mobile'\n      )}\n    >\n      <Loading {...loadingOptions} collapsed={collapsed} />\n      {isInlineLayout ? inlineModeLayout : splitModeLayout}\n    </div>\n  );\n};\n\nexport default inject('layoutStore')(observer(VerticalMode));\n","import React, { Suspense } from 'react';\nimport Authorized from '@components/Authorized';\nimport { getRouteAuthority } from '@utils/authorityTools';\nimport Loading from '@components/Loading';\nimport { useLocation } from 'react-router-dom';\n\nconst Exception403 = React.lazy(() => import(/* webpackChunkName: \"403\" */ '@views/Exception/403'));\n\nconst ViewContent: React.FC<{ route: RouteRoot }> = props => {\n  let location = useLocation();\n  const { route, children } = props;\n  const routeAuthority: undefined | string | string[] = getRouteAuthority(\n    location.pathname,\n    route.routes\n  );\n\n  return (\n    <Authorized\n      routeAuthority={routeAuthority}\n      unidentified={\n        <Suspense fallback={<Loading spinning />}>\n          <Exception403 />\n        </Suspense>\n      }\n    >\n      <main className=\"RA-basicLayout-wrapper-viewMain\">{children}</main>\n    </Authorized>\n  );\n};\n\nexport default ViewContent;\n","/**\n * 获取权限\n * @param {str} string 未处理的权限\n * @return {authority} {Array<string>} 权限结果\n */\nexport function getAuthority(str?: string | string[]) {\n  const authorityString = typeof str === 'undefined' ? localStorage.getItem('RA-authority') : str;\n  let authority;\n  try {\n    // @ts-ignore\n    authority = JSON.parse(authorityString);\n  } catch (e) {\n    authority = authorityString;\n  }\n  if (typeof authority === 'string') {\n    return [authority];\n  }\n  return authority;\n}\n\n/**\n * 设置权限\n * @param {authority} string|array 权限\n */\nexport function setAuthority(authority: string | string[]) {\n  const proAuthority = typeof authority === 'string' ? [authority] : authority;\n  localStorage.setItem('RA-authority', JSON.stringify(proAuthority));\n}\n\n// 清除权限\nexport function clearAuthority() {\n  localStorage.removeItem('RA-authority');\n}\n\n/**\n * 获取路由权限\n * @param {pathname} string 路由路径\n * @return {routeAuthority} {string} 路由对应权限\n */\nexport function getRouteAuthority(pathname: string, routes: RouteRoot[] = []) {\n  let routeAuthority: undefined | string | string[];\n  const _getAuthority = (pathname: string, _routes: RouteRoot[]) => {\n    _routes.forEach(_route => {\n      if (pathname === _route.path) {\n        routeAuthority = _route.authority;\n      } else if (_route.routes) {\n        routeAuthority = _getAuthority(pathname, _route.routes);\n      }\n    });\n    return routeAuthority;\n  };\n  return _getAuthority(pathname, routes);\n}\n"],"sourceRoot":""}